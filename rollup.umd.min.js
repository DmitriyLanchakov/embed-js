const banner = require("./banner")
const buble = require("rollup-plugin-buble")
const resolve = require("rollup-plugin-node-resolve")
const fileSize = require("rollup-plugin-filesize")
const commonjs = require("rollup-plugin-commonjs")
const json = require("rollup-plugin-json")
const uglify = require("rollup-plugin-uglify")
const nodent = require("rollup-plugin-nodent")
const alias = require("rollup-plugin-alias")

const config = {
	entry: "src/index.js",
	dest: "dist/embed.umd.min.js",
	moduleName: "EmbedJS",
	format: "umd",
	banner,
	sourceMap: true,
	plugins: [
		alias({
			"isomorphic-unfetch": "node_modules/unfetch/dist/unfetch.es.js"
		}),
		resolve(),
		json(),
		commonjs(),
		nodent(),
		buble(),
		uglify(),
		fileSize()
	]
}

module.exports = config
